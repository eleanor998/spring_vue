<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>测试首页面</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="../../public/js/angular.min.js"></script>
    <script src="../../public/js/jquery-3.4.1.min.js"></script>
    <script src="../../public/js/vue.min.js"></script>
</head>
<script>
    // 主函数 exec()
    function exec() {
        // var response = quickerGetVar('response');  // 读取text变量值, (text 是动作里的变量)
        var response = "callback({WX_AUTH_BINDING:'Binding failed, No Open Auth',success:'true',functionUrl:'/wx/checkLogin.do?userId=be72ea09997f40898dcf8d2f4241beab&eln_session_id=elnSessionId.b9c5a693f48d4be684fe6c0587c91b32&corpCode=jinj&functionName=wxElnIndex'})";
        // 获取匹配到的文字
        var sessionId = response.match(/(http|https):\/\/(www.)?(\w+(\.)?)+/g).join("");
        var resultUrl = "cloud.21tb.com/checkLogin.do?" + sessionId;
        alert(resultUrl);
        quickerSetVar('resultUrl', resultUrl); //输出修改后的值到text变量中。
        return 0; //返回0表示成功。返回其他数字表示失败。    }
    }
    exec();
</script>
<body>

</body>

</html>